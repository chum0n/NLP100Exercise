この記事は[言語処理100本ノック 2020 (Rev 1) - NLP100 2020](https://nlp100.github.io/ja/)をNLP初心者の自分が解いた記事です。拙い部分もあるかとは思いますが、よろしくお願いします。

# 第4章: 形態素解析

>夏目漱石の小説『吾輩は猫である』の文章（neko.txt）をMeCabを使って形態素解析し，その結果をneko.txt.mecabというファイルに保存せよ．このファイルを用いて，以下の問に対応するプログラムを実装せよ．

>なお，問題37, 38, 39はmatplotlibもしくはGnuplotを用いるとよい．

## 30. 形態素解析結果の読み込み

>形態素解析結果（neko.txt.mecab）を読み込むプログラムを実装せよ．ただし，各形態素は表層形（surface），基本形（base），品詞（pos），品詞細分類1（pos1）をキーとするマッピング型に格納し，1文を形態素（マッピング型）のリストとして表現せよ．第4章の残りの問題では，ここで作ったプログラムを活用せよ．

## 解説

## 形態素解析とは

まず私はケイタイソカイセキ？となったので形態素解析を調べました。[形態素解析 - Wikipedia](https://ja.wikipedia.org/wiki/形態素解析)には、以下のようにありました。

>形態素解析（けいたいそかいせき、Morphological Analysis）とは、文法的な情報の注記の無い自然言語のテキストデータ（文）から、対象言語の文法や、辞書と呼ばれる単語の品詞等の情報にもとづき、形態素（Morpheme, おおまかにいえば、言語で意味を持つ最小単位）の列に分割し、それぞれの形態素の品詞等を判別する作業である。

ふーん。なんとなくわかりました。さらに調べて、自分なりにこういうものなんだなと思ったことを以下に示します。

まず、形態素とは言葉が意味を持つまとまりの最小単位のことです。「私は」とあれば、「私」と「は」に分けることができます。その一つ一つが形態素です。

そして形態素解析とは、自然言語(私たちが普段使ってる言葉)を形態素レベルまで分割する技術のことです。

例えば、「私は料理をします」という文の場合、「私(代名詞)/は(副助詞)/料理(名詞)/を(助詞)/し(動詞)/ます(助動詞)」になります。

参考：[形態素解析とは？おすすめの5大解析ツールや実際の応用例を紹介](https://udemy.benesse.co.jp/ai/morphological-analysis.html)

## Mecabとは

次にMecabとは何かを調べました。[形態素解析とは？おすすめの5大解析ツールや実際の応用例を紹介](https://udemy.benesse.co.jp/ai/morphological-analysis.html)を参考にしてまとめさせていただくとMecabとは以下の特徴がありました。

- オープンソースの日本語の形態素解析エンジン
- 名前の由来は「和布蕪(めかぶ)」から来ている
- MeCabで使用できる言語はC、C＃、C＋＋、Java、Perl、Python、Ruby、Rとたくさんある
- さまざまな辞書と連結させることもできるため、日本語の形態素解析エンジンの中では最も良く使われている

## Mecabのインストール

Mecabとは何かがわかったのでさっそくインストールします。自分はMacなので、[Python3からMeCabを使う](https://qiita.com/taroc/items/b9afd914432da08dafc8)の記事の手順でインストールしました。

インストールできたら、さっそく先ほどの例を形態素解析してみます。以下を実行します。

```
% echo "私は料理をします" | mecab
```

結果は次のようになります。

```
私      名詞,代名詞,一般,*,*,*,私,ワタシ,ワタシ
は      助詞,係助詞,*,*,*,*,は,ハ,ワ
料理    名詞,サ変接続,*,*,*,*,料理,リョウリ,リョーリ
を      助詞,格助詞,一般,*,*,*,を,ヲ,ヲ
し      動詞,自立,*,*,サ変・スル,連用形,する,シ,シ
ます    助動詞,*,*,*,特殊・マス,基本形,ます,マス,マス
EOS
```

Mecabすげー。(この例の実行の仕方ではPythonから使えるかのチェックにはなっていないので注意してくださいね。)

## 『吾輩は猫である』を形態素解析

neko.txtを好きな場所にとってきて、以下を実行します。

```
mecab < section4/neko.txt > section4/neko.txt.mecab
```

neko.txt.mecabの中身を見たら、文章が形態素解析されているのがわかると思います。
